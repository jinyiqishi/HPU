<!--
-- by jeneser
-- 新闻网 综合新闻-文章页
-- URL：http://news.hpu.edu.cn/news/contents/544/118105.html
-->
<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
	<title>新闻网-综合新闻</title>
</head>
<body id="body">
	<textarea id="cont">
		获取内容...
	</textarea> 
	<button id="butt">点我获取</button>
	<script type="text/javascript">
		var cont = document.getElementById("body");
		var butt = document.getElementById("butt");
		butt.addEventListener("click", fetch)
		function fetch (argument) {
			var ajax = new XMLHttpRequest();
			ajax.onreadystatechange = function() {
				if (ajax.readyState == 4 && ajax.status == 200) {
					var response = ajax.responseText;
					//匹配标题
					var title = response.match(/<span class="NewsTitle">(.|\n|\s)*?<\/span>/g);
					//匹配内容
					var info = response.match(/<div id="NewsContent">(.|\n|\s)*?<\/div>/g);
					//合并
					var hole = title + info;
					alert(hole);
					cont.innerHTML = hole;
					alert(1);
				}
			};
			ajax.open("get", "http://news.hpu.edu.cn/news/contents/544/118105.html", true);
			// ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded;charset=gb2312");
			ajax.send();

		}
	</script>
</body>
</html>